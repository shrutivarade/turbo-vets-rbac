<!-- Loading Indicator -->
<div class="loading-overlay" *ngIf="isLoading">
  <div class="loading-spinner">
    <div class="spinner"></div>
    <p>Loading...</p>
  </div>
</div>

<!-- Error Message -->
<div class="error-message" *ngIf="errorMessage">
  <div class="error-content">
    <span class="error-icon">âš </span>
    <span class="error-text">{{ errorMessage }}</span>
    <button (click)="clearError()" class="error-close">Ã—</button>
  </div>
</div>

<!-- Login Screen -->
<div class="login-container" *ngIf="!isAuthenticated">
  <!-- Left Side - Blank Card -->
  <div class="blank-card">
    <div class="blank-content">
      <!-- This space can be used for branding, images, or other content -->
    </div>
  </div>

  <!-- Right Side - Login Card -->
  <div class="login-card">
    <header class="login-header">
      <h1>{{ title() }}</h1>
      <p>Secure Task Management System</p>
    </header>

    <main class="login-content">
      <form (ngSubmit)="onLoginSubmit()" #loginForm="ngForm" class="login-form">
        <div class="form-group">
          <label for="email">Email Address</label>
          <input 
            type="email" 
            id="email" 
            name="email" 
            [(ngModel)]="loginCredentials.email" 
            required 
            email
            class="form-input"
            placeholder="Enter your email"
            [disabled]="isLoading"
          >
        </div>
        
        <div class="form-group">
          <label for="password">Password</label>
          <input 
            type="password" 
            id="password" 
            name="password" 
            [(ngModel)]="loginCredentials.password" 
            required 
            class="form-input"
            placeholder="Enter your password"
            [disabled]="isLoading"
          >
        </div>
        
        <div class="form-actions">
          <button 
            type="submit" 
            class="login-btn" 
            [disabled]="!loginForm.form.valid || isLoading"
          >
            <span *ngIf="!isLoading">Sign In</span>
            <span *ngIf="isLoading">Signing In...</span>
          </button>
        </div>
        
        <div class="demo-section">
          <button type="button" class="demo-btn" (click)="showCredentialsPopup()">
            ðŸ“‹ View Demo Credentials
          </button>
        </div>
      </form>
    </main>
  </div>
</div>

<!-- Credentials Popup Modal -->
<div class="modal-overlay" *ngIf="showCredentialsModal" (click)="closeCredentialsPopup()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Veteran Healthcare AI Demo Credentials</h3>
      <button class="close-btn" (click)="closeCredentialsPopup()">Ã—</button>
    </div>
    
    <div class="modal-body">
      <!-- <div class="super-admin-section">
        <h4 class="super-admin-title">ðŸš€ Super Admin Access</h4>
        <p class="demo-email super-credential">ceo@turbovets.ai / owner123</p>
        <p class="super-description">Full system access across all organizations</p>
      </div> -->
      
      <div class="credentials-grid">
        <div class="org-column">
          <h4 class="org-title">VA Medical Center</h4>
          <p class="demo-email">chief.medical@va-sf.gov / owner123</p>
          <p class="demo-email">ai.specialist@va-sf.gov / admin123</p>
          <p class="demo-email">nurse.coordinator@va-sf.gov / viewer123</p>
        </div>
        
        <div class="org-column">
          <h4 class="org-title">TurboVets AI</h4>
          <p class="demo-email">ceo@turbovets.ai / owner123</p>
          <p class="demo-email">cto@turbovets.ai / admin123</p>
          <p class="demo-email">developer@turbovets.ai / viewer123</p>
        </div>
        
        <div class="org-column">
          <h4 class="org-title">VBA Regional Office</h4>
          <p class="demo-email">regional.director@vba.gov / owner123</p>
          <p class="demo-email">claims.supervisor@vba.gov / admin123</p>
          <p class="demo-email">benefits.specialist@vba.gov / viewer123</p>
        </div>
        
        <div class="org-column">
          <h4 class="org-title">VetConnect Digital</h4>
          <p class="demo-email">director@vetconnect.org / owner123</p>
          <p class="demo-email">platform.manager@vetconnect.org / admin123</p>
          <p class="demo-email">support.specialist@vetconnect.org / viewer123</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Main Application -->
<div class="app-container" *ngIf="isAuthenticated">
  <router-outlet />
</div>
